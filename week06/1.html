<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Document</title>
    </head>
    <body>
        <script>
            function match(str) {
                let state = start
                for (let c of str) {
                    state = state(c)
                }
                return state === end
            }
            function start(c) {
                if (c === 'a') {
                    return foundA
                }
                return start
            }
            function foundA(c) {
                if (c === 'b') {
                    return foundB
                }
                return start(c)
            }
            function foundB(c) {
                if (c === 'a') {
                    return foundA2
                }
                return start(c)
            }
            function foundA2(c) {
                if (c === 'b') {
                    return foundB2
                }
                return start(c)
            }
            function foundB2(c) {
                if (c === 'a') {
                    return foundA3
                }
                return foundB(c)
            }
            function foundA3(c) {
                if (c === 'b') {
                    return foundB3
                }
                return start(c)
            }
            function foundB3(c) {
                if (c === 'x') {
                    return end
                }
                return foundB2(c)
            }
            function end() {
                return end
            }
            console.log(match('abababx'))
            console.log(match('ababx'))
            console.log(match('ababababx'))
            console.log(match('abababababx'))
            console.log(match('ababababababx'))
        </script>
    </body>
</html>
